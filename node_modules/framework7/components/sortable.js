(function framework7ComponentLoader(t,e){void 0===e&&(e=!0);var a=document,s=(window,t.$),o=(t.Template7,t.utils),i=(t.device,t.support,t.Class,t.Modal,t.ConstructorMethods,t.ModalMethods,{init:function(){var t,e,o,i,n,r,l,d,p,b,v,u,f,h,g,c,m,x,w,C,M=this;var T=!!M.support.passiveListener&&{passive:!1,capture:!1};s(a).on(M.touchEvents.start,".list.sortable .sortable-handler",function(a){e=!1,t=!0,o="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,n=s(this).parent("li"),f=n.index(),l=n.parents(".sortable");var i=n.parents(".list-group");i.length&&i.parents(l).length&&(l=i),r=l.children("ul").children("li:not(.disallow-sorting):not(.no-sorting)"),M.panel&&(M.panel.allowOpen=!1),M.swipeout&&(M.swipeout.allow=!1)},T),M.on("touchmove:active",function(a){if(t&&n){var f="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if(!e){h=n.parents(".page"),g=n.parents(".page-content");var M=parseInt(g.css("padding-top"),10),T=parseInt(g.css("padding-bottom"),10);C=g[0].scrollTop,m=h.offset().top+M,c=h.height()-M-T,n.addClass("sorting"),l.addClass("sortable-sorting"),x=n[0].offsetTop,p=n[0].offsetTop,b=n.parent().height()-x-n.height(),d=n[0].offsetHeight,w=n.offset().top}e=!0,a.preventDefault(),a.f7PreventSwipePanel=!0,i=f-o;var I=g[0].scrollTop-C,L=Math.min(Math.max(i+I,-p),b);n.transform("translate3d(0,"+L+"px,0)");var E,y=!0;i+I+44<-p&&(y=!1),i+I-44>b&&(y=!1),u=void 0,v=void 0,y&&(w+i+d+44>m+c&&(E=w+i+d+44-(m+c)),w+i<m+44&&(E=w+i-m-44),E&&(g[0].scrollTop+=E)),r.each(function(t,e){var a=s(e);if(a[0]!==n[0]){var o=a[0].offsetTop,i=a.height(),r=x+L;r>=o-i/2&&n.index()<a.index()?(a.transform("translate3d(0, "+-d+"px,0)"),v=a,u=void 0):r<=o+i/2&&n.index()>a.index()?(a.transform("translate3d(0, "+d+"px,0)"),v=void 0,u||(u=a)):a.transform("translate3d(0, 0%,0)")}})}}),M.on("touchend:passive",function(){if(!t||!e)return e=!1,void((t=!1)&&!e&&(M.panel&&(M.panel.allowOpen=!0),M.swipeout&&(M.swipeout.allow=!0)));var a;M.panel&&(M.panel.allowOpen=!0),M.swipeout&&(M.swipeout.allow=!0),r.transform(""),n.removeClass("sorting"),l.removeClass("sortable-sorting"),v?a=v.index():u&&(a=u.index());var s=l.dataset().sortableMoveElements;if(void 0===s&&(s=M.params.sortable.moveElements),s&&(v&&n.insertAfter(v),u&&n.insertBefore(u)),(v||u)&&l.hasClass("virtual-list")){void 0===(f=n[0].f7VirtualListIndex)&&(f=n.attr("data-virtual-list-index")),u?void 0===(a=u[0].f7VirtualListIndex)&&(a=u.attr("data-virtual-list-index")):void 0===(a=v[0].f7VirtualListIndex)&&(a=v.attr("data-virtual-list-index")),a=null!==a?parseInt(a,10):void 0;var o=l[0].f7VirtualList;o&&o.moveItem(f,a)}void 0===a||Number.isNaN(a)||a===f||(n.trigger("sortable:sort",{from:f,to:a}),M.emit("sortableSort",n[0],{from:f,to:a})),u=void 0,v=void 0,t=!1,e=!1})},enable:function(t){void 0===t&&(t=".list.sortable");var e=s(t);0!==e.length&&(e.addClass("sortable-enabled"),e.trigger("sortable:enable"),this.emit("sortableEnable",e[0]))},disable:function(t){void 0===t&&(t=".list.sortable");var e=s(t);0!==e.length&&(e.removeClass("sortable-enabled"),e.trigger("sortable:disable"),this.emit("sortableDisable",e[0]))},toggle:function(t){void 0===t&&(t=".list.sortable");var e=s(t);0!==e.length&&(e.hasClass("sortable-enabled")?this.sortable.disable(e):this.sortable.enable(e))}}),n={name:"sortable",params:{sortable:{moveElements:!0}},create:function(){o.extend(this,{sortable:{init:i.init.bind(this),enable:i.enable.bind(this),disable:i.disable.bind(this),toggle:i.toggle.bind(this)}})},on:{init:function(){this.params.sortable&&this.sortable.init()}},clicks:{".sortable-enable":function(t,e){void 0===e&&(e={});this.sortable.enable(e.sortable)},".sortable-disable":function(t,e){void 0===e&&(e={});this.sortable.disable(e.sortable)},".sortable-toggle":function(t,e){void 0===e&&(e={});this.sortable.toggle(e.sortable)}}};if(e){if(t.prototype.modules&&t.prototype.modules[n.name])return;t.use(n),t.instance&&(t.instance.useModuleParams(n,t.instance.params),t.instance.useModule(n))}return n}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
